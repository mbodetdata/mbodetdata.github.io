<!doctype html>
<html lang="fr">
<head>
  {% assign is_post = true %}
  {% include head.html %}
</head>
<body class="page layout-post" data-page-url="{{ page.url }}" data-layout="post">
  <a id="top" class="sr-only" href="#main">Aller au contenu</a>

  {% include header.html %}

  <main id="main" tabindex="-1" itemscope itemtype="https://schema.org/Article">
    <meta itemprop="headline" content="{{ page.title }}">
    <meta itemprop="description" content="{{ page.description | default: site.description }}">
    <link itemprop="url" href="{{ page.url | replace:'index.html','' | absolute_url }}">
    <meta itemprop="inLanguage" content="{{ site.locale | default: 'fr-FR' }}">
    <meta itemprop="datePublished" content="{{ page.date | date_to_xmlschema }}">
    {%- if page.last_modified_at -%}
    <meta itemprop="dateModified" content="{{ page.last_modified_at | date_to_xmlschema }}">
    {%- endif -%}
    {%- assign article_image = page.image | default: site.og_image | default: '/assets/img/logo_512.webp' -%}
    <meta itemprop="image" content="{{ article_image | absolute_url }}">

    {%- assign words = content | strip_html | strip_newlines | replace: '  ', ' ' | split: ' ' | size -%}
    {%- assign minutes = words | divided_by: 220 | plus: 1 -%}

    <header class="post-hero">
      <div class="post-hero__inner">
        <nav class="breadcrumbs" aria-label="Fil d’Ariane">
          <a href="{{ '/' | relative_url }}">Accueil</a>
          <span aria-hidden="true">›</span>
          <a href="{{ '/blog/' | relative_url }}">Blog</a>
        </nav>

        <h1 class="post-title">{{ page.title }}</h1>

        {%- if page.description -%}
          <p class="post-desc muted">{{ page.description }}</p>
        {%- endif -%}

        <div class="post-meta muted" aria-label="Métadonnées de l’article">
          <span class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none"><rect x="3" y="5" width="18" height="16" rx="3" stroke="currentColor" stroke-width="2"/><path d="M3 9h18M8 3v4M16 3v4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          </span>
          <time datetime="{{ page.date | date_to_xmlschema }}">{{ page.date | date: '%d %b %Y' }}</time>
          <span class="sep" aria-hidden="true">·</span>
          <span class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/><path d="M12 7v5l3 2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </span>
          <span>~{{ minutes }} min</span>
        </div>

        {%- if page.tags and page.tags.size > 0 -%}
          <div class="post-tags" aria-label="Tags">
            {%- for t in page.tags -%}
              <span class="chip">{{ t }}</span>
            {%- endfor -%}
          </div>
        {%- endif -%}

        <p class="back-blog"><a href="{{ '/blog/' | relative_url }}" class="link-muted">← Retour au blog</a></p>
      </div>
      {%- if article_image -%}
        <div class="post-hero__media" aria-hidden="true">
          <img src="{{ article_image | relative_url }}" alt="" loading="lazy" decoding="async" />
        </div>
      {%- endif -%}
    </header>

    <article class="post-body" itemprop="articleBody">
      {{ content }}
    </article>

    <nav class="post-nav" aria-label="Navigation de l’article">
      <div>
        {%- if page.previous -%}
          <a class="btn ghost" rel="prev" href="{{ page.previous.url | relative_url }}">← {{ page.previous.title }}</a>
        {%- endif -%}
      </div>
      <div>
        {%- if page.next -%}
          <a class="btn" rel="next" href="{{ page.next.url | relative_url }}">{{ page.next.title }} →</a>
        {%- endif -%}
      </div>
    </nav>
  </main>

  {% include footer.html %}
  {% include modal-project.html %}
</body>
</html>
