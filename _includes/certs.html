<section id="certifications" class="section certs" aria-labelledby="certs-title">
  <div class="certs-head">
    <h2 id="certs-title" class="h2">Certifications</h2>
    <p id="certs-desc" class="muted">Mes certifications, un gage de qualité et de mise&nbsp;à&nbsp;jour continue.</p>
  </div>

  <div class="certs-viewport" role="region" aria-labelledby="certs-title" aria-describedby="certs-desc">
    {%- comment -%}
      Tri principal par "ordre" (1,2,3,...). 
      Conseil : mets "ordre" sur TOUTES les entrées (sinon Liquid place les nil au début).
    {%- endcomment -%}
    {%- assign items = site.data.certifications | sort: "ordre" -%}
    {%- assign certifiees = items | where_exp: "c", "c.status != 'pending'" -%}
    {%- assign en_prepa   = items | where: "status", "pending" -%}
    {%- assign total_count = items | size -%}

    <ul id="certs-rail"
        class="certs-rail"
        role="list"
        itemscope
        itemtype="https://schema.org/ItemList"
        aria-label="Liste des certifications">
      <meta itemprop="name" content="Certifications de {{ site.author.prenom_nom | default: site.author.name }}">
      <meta itemprop="numberOfItems" content="{{ total_count }}">
      <meta itemprop="itemListOrder" content="http://schema.org/ItemListOrderAscending">

      {%- for c in certifiees %}
        {% include cert-item.html item=c i=forloop.index %}
      {%- endfor %}

      {%- for c in en_prepa %}
        {% include cert-item.html item=c i=forloop.index %}
      {%- endfor %}
    </ul>

    <!-- Indicateurs du carousel (affichés uniquement sur mobile) -->
    <nav class="certs-dots" aria-label="Pagination des certifications"></nav>
  </div>
</section>
