/* ===========================================================================
   ABM — CSS unifié (mobile-first, premium, moderne)
   - Mobile first & fluid scaling (clamp)
   - Dark par défaut, Light doux (calm design)
   - Grilles stables, pas de chevauchements
   - A11y: focus visibles, liens soulignés
   =========================================================================== */

/* ========================= 0) RESET & BASE ========================= */
*{ box-sizing:border-box; }
html{ scroll-behavior:smooth; }
html,body{ margin:0; overflow-x:hidden; }
img,svg,video{ max-width:100%; height:auto; display:block; }
.sr-only{
  position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}
.hidden{ display:none !important; }

/* ========================= 1) TOKENS / THEMES ========================= */
:root{
  /* Brand */
  --brand:#6677ff;
  --brand-2:#2bd48f;
  --accent:var(--brand);

  /* DARK premium (default) */
  --bg:#080b14;
  --fg:#e8edf6;
  --muted:#a6b1c7;
  --surface-0:#0a0f1e;
  --surface-1:#0f1426;
  --surface-2:color-mix(in oklab, var(--surface-1) 88%, #000 12%);
  --border:color-mix(in oklab, #93a4c5 12%, #0a0f1e 88%);

  /* Ombres */
  --shadow-sm: 0 6px 16px rgba(0,0,0,.28);
  --shadow-md: 0 12px 26px rgba(0,0,0,.34);
  --shadow-lg: 0 18px 40px rgba(0,0,0,.42);

  /* Typo fluide */
  --step--1: clamp(.86rem, .83rem + .2vw, .92rem);
  --step-0:  clamp(1rem , .96rem + .4vw, 1.1rem);
  --step-1:  clamp(1.15rem, 1.08rem + .6vw, 1.35rem);
  --step-2:  clamp(1.4rem, 1.25rem + 1vw, 1.8rem);
  --step-3:  clamp(1.8rem, 1.5rem + 1.6vw, 2.4rem);
  --step-4:  clamp(2.2rem, 1.9rem + 2.2vw, 3rem);

  /* Rythme & formes */
  --space-1:.56rem; --space-2:.8rem; --space-3:1.1rem; --space-4:1.6rem; --space-5:2.2rem;
  --radius-1:.7rem; --radius-2:1rem; --radius-3:1.25rem;

  /* Conteneurs */
  --container: min(1280px, 92vw);
  --container-tight: min(1080px, 92vw);

  /* Liens */
  --link-underline: underline;
  --link-offset: 2px;

  /* Dégradé marque */
  --g-brand: linear-gradient(135deg, var(--brand), var(--brand-2));
}

/* LIGHT doux */
:root[data-theme="light"]{
  color-scheme: light;
  --bg:#f8fafc;
  --fg:#1f2937;
  --muted:#64748b;
  --surface-0:#f9fbff;
  --surface-1:#ffffff;
  --surface-2:#f2f5fa;
  --border:#e6ebf2;
  --shadow-sm: 0 6px 16px rgba(15,23,42,.06);
  --shadow-md: 0 12px 26px rgba(15,23,42,.10);
  --shadow-lg: 0 18px 40px rgba(15,23,42,.14);
  --g-brand: linear-gradient(135deg,
               color-mix(in oklab, var(--brand) 22%, #ffffff 78%),
               color-mix(in oklab, var(--brand-2) 20%, #ffffff 80%));
  --accent-soft: color-mix(in oklab, var(--brand) 14%, #ffffff 86%);
  --accent-soft-2: color-mix(in oklab, var(--brand-2) 14%, #ffffff 86%);
}

/* ========================= 2) BASE TYPO / STRUCTURE ========================= */
body{
  font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji";
  background:var(--surface-0); color:var(--fg); text-rendering:optimizeLegibility;
}
a{ color:inherit; text-decoration:var(--link-underline); text-underline-offset:var(--link-offset); }
a:hover{ filter:brightness(1.07); }
a:focus-visible{ outline:3px solid color-mix(in oklab, var(--brand) 45%, transparent); outline-offset:2px; border-radius:.25rem; }

main{ max-width:var(--container); margin:auto; padding:clamp(1rem,1.6vw,2rem) 1rem; }
.section{ padding-block: clamp(1.6rem,3vw,3rem); content-visibility:auto; contain-intrinsic-size: 0 600px; }
.section h2{ font-size:var(--step-2); line-height:1.2; margin:0 0 .75rem; }

/* ========================= 3) HEADER & NAV ========================= */
.site-header{
  position:sticky; top:0; z-index:60;
  border-bottom:1px solid var(--border);
  background:color-mix(in oklab, var(--surface-0) 92%, transparent);
  -webkit-backdrop-filter:saturate(1.05) blur(10px);
  backdrop-filter:saturate(1.05) blur(10px);
  animation: header-in .24s ease-out both;
}
@keyframes header-in{ from{ transform:translateY(-8px); opacity:0 } to{ transform:none; opacity:1 } }
.site-header.is-scrolled{
  background:color-mix(in oklab, var(--surface-0) 96%, transparent);
  box-shadow:0 10px 30px rgba(0,0,0,.25);
  border-bottom-color: color-mix(in oklab, var(--border), var(--brand) 16%);
}
.navbar{
  max-width:var(--container); margin-inline:auto;
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
  padding:.55rem 1rem;
}
.site-header.is-scrolled .navbar{ padding:.4rem 1rem; }

.brand{ display:flex; align-items:center; gap:.6rem; font-weight:800; font-size:var(--step-0); color:var(--fg); text-decoration:none; letter-spacing:.02em; }
.brand .dot{ width:.8rem; height:.8rem; border-radius:999px; background:var(--g-brand); box-shadow:0 0 0 3px color-mix(in oklab, var(--brand) 22%, transparent); }
.brand-logo{ height:40px; width:auto; object-fit:contain; transition: transform .25s ease, filter .25s ease, height .2s ease; }

.nav-actions{ display:inline-flex; align-items:center; gap:.5rem; }

.theme-toggle{
  position:relative; display:inline-flex; align-items:center; gap:.55rem;
  height:40px; padding:.45rem .9rem .45rem calc(.7rem + 1.2rem + .5rem);
  border:1px solid var(--border); border-radius:12px;
  background:var(--surface-1); color:var(--fg); cursor:pointer;
  transition: background .18s, border-color .18s, transform .18s, box-shadow .18s;
  box-shadow: var(--shadow-sm);
}
.theme-toggle:hover{ background: color-mix(in oklab, var(--fg) 6%, var(--surface-1)); box-shadow:var(--shadow-md); }
.theme-toggle:focus-visible{ outline:none; box-shadow:0 0 0 3px color-mix(in oklab, var(--brand) 45%, transparent); }
.theme-toggle .tt-icon{ position:absolute; left:.7rem; top:50%; transform:translateY(-50%); width:1.2rem; height:1.2rem; display:grid; place-items:center; line-height:0; }
.icon-sun,.icon-moon{ position:absolute; inset:0; display:grid; place-items:center; transform-origin:50% 50%; transition:opacity .28s ease, transform .38s ease; }
.icon-sun svg,.icon-moon svg{ width:100%; height:100%; display:block; vector-effect:non-scaling-stroke; }
.icon-sun{ opacity:0; transform:rotate(-90deg) scale(.94); }
.icon-moon{ opacity:1; transform:rotate(0) scale(1); }
:root[data-theme="light"] .icon-sun{ opacity:1; transform:rotate(0) scale(1); }
:root[data-theme="light"] .icon-moon{ opacity:0; transform:rotate(90deg) scale(.94); }
.theme-toggle .tt-label{ font-weight:700; letter-spacing:.01em; line-height:1; }

.nav-toggle{
  display:inline-flex; align-items:center; gap:.5rem; height:40px; padding:0 .9rem;
  border:1px solid var(--border); border-radius:12px; background:var(--surface-1); color:var(--fg); font-weight:700;
  box-shadow: var(--shadow-sm);
}
.nav-toggle .chev{ transition:transform .2s ease; }
.nav-toggle[aria-expanded="true"] .chev{ transform:rotate(180deg); }

.nav-collapsible{
  overflow:hidden; max-height:0;
  transition:max-height .28s ease, border-color .28s ease, box-shadow .28s ease;
  border-bottom:1px solid transparent;
  background:color-mix(in oklab,var(--surface-0) 98%, transparent);
  box-shadow:0 0 0 rgba(0,0,0,0);
}
.nav-collapsible.open{ max-height:60svh; border-color:var(--border); box-shadow: var(--shadow-md); }
.nav-list{ list-style:none; margin:0; padding:.5rem .75rem 1rem; display:grid; gap:.6rem; }
.nav-list a,.nav-list .btn{
  display:flex; align-items:center; gap:.55rem;
  padding:1rem 1.1rem; border-radius:14px; text-decoration:none;
  color:var(--fg); background:var(--surface-1); border:1px solid var(--border); box-shadow:var(--shadow-sm);
}

.nav-desktop{ display:none; flex:1 1 auto; min-width:0; }
.nav-inline{ display:flex; align-items:center; gap:.6rem; white-space:nowrap; list-style:none; margin:0; padding:0 .5rem; }

@media (min-width:992px){
  .nav-toggle{ display:none; }
  .nav-desktop{ display:block; }
  .nav-actions .theme-toggle{ display:inline-flex; }
  .nav-collapsible{ display:none; }
}

/* CTA nav */
.nav-desktop .btn.cta, .nav-list .btn.cta{
  border:0 !important; background:var(--g-brand) !important; color:#fff !important;
  font-weight:800; letter-spacing:.01em; box-shadow:0 12px 26px color-mix(in oklab, var(--brand) 30%, transparent);
}
.nav-desktop .btn.cta:hover, .nav-list .btn.cta:hover{
  transform:translateY(-1px); box-shadow:0 16px 30px color-mix(in oklab, var(--brand) 36%, transparent);
}

/* ========================= 4) UTILITAIRES ========================= */
.grid{ display:grid; gap:clamp(1.1rem,2.8vw,1.7rem); }
.grid.cols-2{ grid-template-columns:1fr; }
.grid.cols-3{ grid-template-columns:1fr; }
@media (min-width:700px){  .grid.cols-2{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
@media (min-width:1100px){ .grid.cols-3{ grid-template-columns:repeat(3,minmax(0,1fr)); } }

.muted{ color:var(--muted); }
.soft-sep{
  display:block; width:100%; height:1px; border:0; margin:.25rem 0 0;
  background: linear-gradient(90deg, transparent, color-mix(in oklab, var(--fg) 18%, transparent), transparent);
}
:target{ scroll-margin-top: 88px; }

/* ========================= 5) HÉRO / ABOUT ========================= */
.about-hero{ padding-block: clamp(2.2rem, 4vw, 5rem); }
.about-hero__canvas{
  position: relative;
  width: 100%;
  max-width: min(1400px, 94vw);
  margin: 0 auto;
  min-height: clamp(220px, 50vw, 420px);
  border-radius: clamp(1.4rem, 3vw, 3rem);
  background: linear-gradient(125deg,
              color-mix(in oklab, var(--brand) 86%, #111b3f 14%),
              color-mix(in oklab, var(--brand-2) 82%, #08251c 18%));
  padding: clamp(1.1rem, 4vw, 3rem);
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: var(--shadow-lg);
  overflow: hidden;
  isolation: isolate;
}
.about-hero__inner{
  position: relative;
  display:grid;
  grid-template-columns: 1fr;                 /* MOBILE FIRST */
  gap: clamp(1.2rem, 3vw, 2rem);
  align-items:center;
  width:100%;
}
@media (min-width:960px){
  .about-hero__inner{ grid-template-columns: minmax(280px, 1fr) minmax(340px, 1fr); }
}
.about-hero__content{
  position:relative;
  display:grid;
  gap: clamp(.7rem, 1.4vw, 1.15rem);
  max-width: min(680px, 100%);
  justify-self:center;
  text-align:center;
}
@media (min-width:960px){
  .about-hero__content{ justify-self:stretch; text-align:left; }
}
.about-hero__content::before{
  content:""; position:absolute; inset:-12% -16% -12% -14%;
  background: linear-gradient(150deg, rgba(10,18,42,.82), rgba(22,12,56,.55));
  filter: blur(38px); opacity:.75; z-index:-1; pointer-events:none;
}
.about-hero__eyebrow{
  letter-spacing:.24em; text-transform:uppercase;
  font-size:clamp(.68rem, .6rem + .25vw, .85rem);
  color: color-mix(in oklab, #fff 72%, transparent);
}
.about-hero__title{
  font-size:clamp(2rem, 1.3rem + 3.4vw, 3.6rem);
  line-height:1.08; letter-spacing:.01em; margin:0; color:#fff;
  text-shadow:0 18px 44px rgba(0,0,0,.55); text-wrap:balance;
}
.about-hero__text{ margin:0; color:color-mix(in oklab, #fff 82%, rgba(183,198,232,.35) 18%); font-size:clamp(1rem, .95rem + .4vw, 1.15rem); max-width:68ch; }
.about-hero__text strong{ color:#fff; }

.about-hero__media{ position: relative; z-index: 1; display:flex; justify-content:center; width:100%; }
@media (min-width:960px){ .about-hero__media{ justify-content:flex-end; } }

.about-photo-frame{
  position: relative;
  width: min(520px, 88vw);
  aspect-ratio: 4 / 3;
  border-radius: clamp(1rem, 3vw, 2.6rem);
  background: linear-gradient(135deg, rgba(41,54,106,.82), rgba(119,46,148,.72));
  padding: clamp(1rem, 3.6vw, 2.2rem);
  box-shadow: var(--shadow-lg);
  border:1px solid color-mix(in oklab, rgba(255,255,255,.9) 42%, rgba(8,12,24,.9) 58%);
  display:flex; align-items:center; justify-content:center; overflow: visible;
  margin-inline:auto;                         /* évite débordements */
}
.about-photo-slot{
  position: relative; z-index: 1; width:100%; height:100%;
  border-radius: inherit; overflow:hidden;
  border:1px dashed color-mix(in oklab, rgba(255,255,255,.78) 68%, transparent);
  background:
    linear-gradient(140deg, rgba(86,103,255,.32), rgba(43,212,143,.34)),
    radial-gradient(circle at 20% 20%, rgba(255,255,255,.18), transparent 60%);
  backdrop-filter: blur(2px);
}
.about-photo-slot.has-photo{ border:none; background:none; }
.about-photo-slot img{ width:100%; height:100%; object-fit:cover; display:block; filter:saturate(.98); }

/* Stats card : mobile = bloc normal, desktop = badge flottant */
.about-stats-card{
  position:relative;                     /* mobile: normal flow */
  margin: clamp(1rem, 3vw, 1.4rem) auto 0;
  display:flex; justify-content:space-between; gap: clamp(.7rem, 2vw, 1.4rem);
  align-items:center; padding: clamp(.9rem, 2.2vw, 1.25rem) clamp(1rem, 3vw, 1.8rem);
  border-radius: clamp(.9rem, 2vw, 1.5rem);
  background: linear-gradient(135deg, rgba(12,14,40,.9), rgba(49,16,70,.82));
  box-shadow: inset 0 1px 0 rgba(255,255,255,.18), 0 12px 28px rgba(0,0,0,.35);
  color:#fff; width:min(680px, 100%);
}
@media (min-width:960px){
  .about-stats-card{
    position:absolute; left:50%; bottom: clamp(1rem, 3vw, 2rem);
    transform:translateX(-50%); min-width:min(440px, 92%);
  }
}
.about-stats-card__item{ position:relative; display:grid; gap:.25rem; min-width:min(120px, 32vw); padding-inline:.35rem; text-align:left; }
.about-stats-card__item:not(:last-child)::after{
  content:""; position:absolute; top:50%; right:-.25rem; transform:translateY(-50%); width:1px; height:62%;
  background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(120,130,200,.06)); opacity:.65; pointer-events:none;
}
@media (max-width:580px){
  .about-stats-card{ flex-direction:column; align-items:stretch; text-align:left; gap:.6rem; }
  .about-stats-card__item{ min-width:auto; padding-inline:0; }
  .about-stats-card__item:not(:last-child)::after{ display:none; }
}
.about-stats-card__value{ display:flex; align-items:baseline; gap:.3rem; font-size:clamp(1.3rem, 1.05rem + 1.2vw, 1.9rem); font-weight:700; letter-spacing:.005em; text-shadow:0 12px 24px rgba(0,0,0,.35); }
.about-stats-card__label{ font-size:clamp(.72rem, .64rem + .28vw, .9rem); color:color-mix(in oklab, #fff 76%, rgba(195,205,232,.38) 24%); letter-spacing:.08em; text-transform:uppercase; font-weight:600; line-height:1.35; text-wrap:balance; max-width:18ch; }

/* ========================= 6) CARTES / BOUTONS ========================= */
.card, .btn, .chip, .contact-item, .ci-copy-btn{
  transition:transform .18s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease, color .18s ease;
  box-shadow: var(--shadow-sm);
}
.card{
  background:var(--surface-1);
  border:1px solid var(--border);
  border-radius:var(--radius-2);
  padding:clamp(1rem, 2.2vw, 1.35rem);
}
@media (hover:hover){ .card:hover{ transform:translateY(-2px); border-color:color-mix(in oklab, var(--border), var(--brand) 28%); box-shadow:0 14px 36px rgba(0,0,0,.36); } }

.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:.55rem;
  min-height:46px; padding:.7rem 1.05rem; line-height:1;
  border:1px solid var(--border); border-radius:.9rem;
  background:var(--surface-1); color:var(--fg); font-weight:600; cursor:pointer;
}
.btn:hover{ transform:translateY(-1px); background:color-mix(in oklab,var(--fg) 6%,var(--surface-1)); border-color:color-mix(in oklab,var(--fg) 14%,var(--border)); box-shadow:var(--shadow-md); }
.btn:focus-visible{ outline:none; box-shadow:0 0 0 3px color-mix(in oklab,var(--brand) 40%,transparent); }
.btn--primary{ color:#fff; border:0; background:var(--g-brand); box-shadow:0 12px 26px color-mix(in oklab, var(--brand) 30%, transparent); }
.btn--primary:hover{ transform:translateY(-1px); box-shadow:0 16px 32px color-mix(in oklab, var(--brand) 36%, transparent); }
.btn--ghost{ background:transparent; }

.chip{
  display:inline-flex; align-items:center; gap:.5rem; line-height:1;
  padding:.5rem .8rem; border:1px solid var(--border); border-radius:12px;
  background:var(--surface-1); color:var(--fg); text-decoration:none; font-weight:600;
}

/* ========================== 7) MÉTHODES / SECTIONS ========================== */
.hero{ display:grid; grid-template-columns:1fr; gap:clamp(1rem,2vw,1.5rem); align-items:center; }
.hero .actions{ display:flex; gap:.7rem; margin-top:1rem; flex-wrap:wrap; }
.hero__img{ width:100%; aspect-ratio:16/9; object-fit:cover; border-radius:var(--radius-3); border:1px solid var(--border); }
.hero__viz{ width:100%; aspect-ratio:16/9; border-radius:var(--radius-3); border:1px solid var(--border); background:var(--surface-1); background-image:var(--hero-image); background-size:cover; background-position:50% 50%; box-shadow:var(--shadow-lg); }
@media (min-width:900px){ .hero{ grid-template-columns:1.25fr .85fr; } }

.methodes.methodes--modern{ display:grid; grid-template-columns:1fr; gap:clamp(1rem,2.5vw,1.6rem); margin-top:clamp(1.2rem,3vw,2.2rem); }
@media (min-width:700px){  .methodes.methodes--modern{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
@media (min-width:1100px){ .methodes.methodes--modern{ grid-template-columns:repeat(3,minmax(0,1fr)); } }

.badge-glass{
  position:relative; overflow:hidden;
  background: linear-gradient(135deg, color-mix(in oklab, var(--brand) 22%, transparent), color-mix(in oklab, var(--brand-2) 28%, transparent));
  border:1px solid color-mix(in oklab, var(--border), var(--brand) 24%);
}
.badge-glass::after{
  content:""; position:absolute; inset:0; border-radius:inherit;
  background: radial-gradient(120% 120% at -10% -10%, rgba(255,255,255,.18), transparent 50%),
              radial-gradient(120% 120% at 110% 110%, rgba(255,255,255,.12), transparent 40%);
  pointer-events:none;
}

.methode{
  display:grid; grid-template-columns:2.6rem 1fr; align-items:start; column-gap:1rem; row-gap:.7rem;
  padding:clamp(1.1rem,2.2vw,1.5rem);
  background: linear-gradient(180deg, color-mix(in oklab, var(--surface-1) 96%, transparent), color-mix(in oklab, var(--surface-0) 98%, transparent));
  border:1px solid color-mix(in oklab, var(--border), var(--brand) 12%);
  border-radius:var(--radius-2); box-shadow:var(--shadow-md);
  -webkit-backdrop-filter: blur(4px) saturate(1.02);
  backdrop-filter: blur(4px) saturate(1.02);
}
@media (hover:hover){ .methode:hover{ transform:translateY(-6px); border-color:color-mix(in oklab,var(--brand) 35%,var(--border)); box-shadow:var(--shadow-lg); } }
.methode__icon{ width:2.6rem; height:2.6rem; display:grid; place-items:center; border-radius:.9rem; color:#fff; font-size:1.2rem; box-shadow:0 2px 6px rgba(0,0,0,.25); }
.methode__title{ margin:0; font-size:var(--step-1); font-weight:800; color:var(--fg); line-height:1.3; }
.m-list{ grid-column:1 / -1; list-style:none; margin:.25rem 0 0; padding:0; display:grid; gap:.6rem; }
.m-item{ display:grid; grid-template-columns:auto 1fr auto; align-items:start; gap:.6rem; }
.m-bullet{ width:28px; height:28px; display:grid; place-items:center; border-radius:.7rem; color:var(--fg);
  background: linear-gradient(135deg, color-mix(in oklab, var(--brand) 22%, transparent), color-mix(in oklab, var(--brand-2) 28%, transparent));
  border:1px solid color-mix(in oklab, var(--border), var(--brand) 24%);
}
.m-text{ color:var(--muted); font-size:var(--step--1); }

/* ========================== 8) SERVICES (cards + CTA) ========================== */
.services-section{ padding-block: clamp(2rem, 4vw, 3.8rem); }
.services-grid{ align-items:stretch; gap:clamp(1rem, 2vw, 1.6rem); grid-template-columns:repeat(auto-fit, minmax(min(320px, 100%), 1fr)); }
.service-card{
  position:relative; display:grid; gap:.55rem;
  padding:clamp(1.2rem, 2.4vw, 1.8rem);
  border-radius:calc(var(--radius-2) + .2rem);
  border:1px solid color-mix(in oklab, var(--border), var(--brand) 12%);
  background: linear-gradient(160deg, color-mix(in oklab, var(--surface-1) 94%, transparent) 0%, color-mix(in oklab, var(--surface-0) 96%, var(--brand) 4%) 100%);
  box-shadow:0 20px 40px rgba(8,11,20,.28);
  -webkit-backdrop-filter: blur(8px) saturate(1.04);
  backdrop-filter: blur(8px) saturate(1.04);
  transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease, background .22s ease;
}
@media (hover:hover){
  .service-card:hover{
    transform:translateY(-6px);
    box-shadow:0 28px 48px rgba(8,11,20,.32);
    border-color:color-mix(in oklab, var(--brand) 45%, var(--border));
    background: linear-gradient(180deg, color-mix(in oklab, var(--surface-1) 90%, transparent), color-mix(in oklab, var(--surface-0) 92%, var(--brand) 8%));
  }
}
.svc-head{ display:grid; grid-template-columns:3.2rem 1fr; align-items:center; gap:.85rem; }
.svc-ico{
  width:3.1rem; height:3.1rem; display:grid; place-items:center; border-radius:1.05rem;
  background: linear-gradient(135deg, color-mix(in oklab, var(--brand) 26%, transparent), color-mix(in oklab, var(--brand-2) 22%, transparent));
  border:1px solid color-mix(in oklab, var(--border), var(--brand) 32%); color:#fff; box-shadow:0 18px 30px rgba(17,24,39,.28);
}
.svc-kicker{ margin:0; font-size:calc(var(--step--1) + .02rem); text-transform:uppercase; letter-spacing:.08em; color:color-mix(in oklab, var(--muted) 72%, #fff 28%); }
.svc-title{ margin:0; font-size:var(--step-1); font-weight:800; line-height:1.2; color:var(--fg); }
.svc-promise{ margin:.2rem 0 0; color:color-mix(in oklab, var(--fg) 88%, #fff 12%); font-size:var(--step--1); }

.services-cta-grid{ margin-top: clamp(1.1rem, 2.4vw, 1.8rem); display:grid; grid-template-columns:repeat(auto-fit, minmax(260px, 1fr)); gap:clamp(.8rem, 2.2vw, 1.4rem); }
.service-cta{ display:grid; grid-template-columns:1fr; gap:.8rem; padding:clamp(1rem, 1.8vw, 1.5rem); border-radius:calc(var(--radius-2) + .1rem); border:1px solid color-mix(in oklab, var(--border), var(--brand) 20%); background:color-mix(in oklab, var(--surface-0) 94%, transparent); box-shadow:0 18px 30px rgba(8,11,20,.18); }

/* ======================== 9) CONTACT v2 ======================== */
.contact-v2 .section-head{ margin-bottom:.8rem; }
.contact-grid{ display:grid; gap:1rem; align-items:start; }
.contact-left{ min-width:0; }
.calendly-card{ padding:0; overflow:hidden; display:grid; grid-template-rows:auto 1fr auto; background:var(--surface-1); border:1px solid var(--border); border-radius:var(--radius-2); box-shadow:var(--shadow-lg); }
.calendly-head{ display:flex; align-items:center; justify-content:space-between; gap:.8rem; padding:.9rem 1rem; border-bottom:1px solid var(--border); background: color-mix(in oklab, var(--surface-1) 95%, var(--surface-0) 5%); }
.calendly-title{ display:flex; align-items:center; gap:.6rem; }
.calendly-title h3{ margin:0; font-size:var(--step-1); line-height:1.2; }
.calendly-dot{ width:.8rem; height:.8rem; border-radius:999px; background:var(--g-brand); box-shadow:0 0 0 4px color-mix(in oklab,var(--brand) 20%,transparent); }
.calendly-inline{ position:relative; min-height: clamp(520px, 70vh, 920px); background:var(--surface-1); }
.calendly-inline > .calendly-inline-widget, .calendly-inline iframe{ position:absolute; inset:0; width:100% !important; height:100% !important; border:0 !important; min-height:0 !important; display:block; }

#calendly-inline-embed{ position:relative; min-height: clamp(560px, 72vh, 820px); margin: 0 1rem 1rem; }
#calendly-inline-embed > .calendly-inline-widget, #calendly-inline-embed iframe{ position:absolute; inset:0; width:100% !important; height:100% !important; border:0 !important; min-height:0 !important; display:block; }

@media (min-width:992px){
  .contact-v2 .calendly-card{
    max-width: 1100px; margin-inline:auto; display:grid;
    grid-template-columns: minmax(420px, 1fr) 420px;
    grid-template-areas: "head head" "cal contacts" "note contacts";
    align-items:start; gap:.25rem 1rem;
  }
  .contact-v2 .calendly-head{ grid-area: head; }
  #calendly-inline-embed{ grid-area: cal; margin:0; }
  .contact-v2 .contact-inline{ grid-area: contacts; padding: 1rem; }
  .contact-v2 .note{ grid-area: note; margin:.5rem 0 0 0; padding:0 0 .75rem 0; }
  .calendly-inline{ min-height: clamp(420px, 56vh, 720px); }
  #calendly-inline-embed{ min-height: clamp(460px, 58vh, 760px); }
}

.contact-inline{ text-align:left; display:grid; gap:1rem; padding: 1rem 1.25rem 1.25rem; }
.contact-list{ list-style:none; margin:0; padding:0; display:grid; gap:.8rem; }
.contact-row{ display:flex; align-items:center; justify-content:flex-start; gap:.5rem; }
.contact-item{ flex:1; display:flex; align-items:center; gap:.75rem; text-decoration:none; color:var(--fg); padding:.9rem 1rem; border:1px solid var(--border); border-radius:1rem; background: color-mix(in oklab, var(--surface-1) 98%, var(--brand) 2%); }

/* ======================== 10) MODAL ======================== */
.modal[hidden]{ display:none; }
.modal{ position: fixed; inset: 0; z-index: 1000; background: color-mix(in oklab, #000 58%, transparent); display:grid; place-items:center; padding:1rem; }
.modal__dialog{
  position: relative; width:min(92vw, 720px);
  background:var(--surface-0); color:var(--fg);
  border:1px solid var(--border); border-radius:16px;
  box-shadow:var(--shadow-lg); padding:clamp(16px, 2.5vw, 28px);
  max-height:90vh; overflow:auto; animation: pop .18s ease-out;
}
@keyframes pop{ from{ transform:translateY(8px) scale(.98); opacity:0 } to{ transform:none; opacity:1 } }

/* ======================== 11) CAROUSEL (générique) ======================== */
.carousel{
  position: relative;
  display: grid;
  grid-template-columns: 1fr;            /* MOBILE: pas de flèches */
  align-items: center;
  gap: .5rem;
  margin-top: .75rem;
}
.carousel__track{
  overflow-x:auto; -webkit-overflow-scrolling:touch; overscroll-behavior-x:contain;
  scroll-snap-type:x mandatory;
  display:grid; grid-auto-flow:column; gap: clamp(12px, 2vw, 20px);
  grid-auto-columns: min(100%, 34rem); padding:.25rem 14px;
  /* masquer scrollbar */
  scrollbar-width: none; -ms-overflow-style: none;
}
.carousel__track::-webkit-scrollbar{ display:none; }
.carousel__slide{ scroll-snap-align:start; display:grid; }
.carousel__btn{ display:none; }  /* caché sur mobile */
.carousel__dots{ display:flex; justify-content:center; gap:8px; margin-top:.4rem; }
.carousel__dot{
  width:8px; height:8px; border-radius:999px; border:0; padding:0; cursor:pointer;
  background: rgba(255,255,255,.35); transition: transform .18s ease, background .18s ease, width .18s ease;
}
.carousel__dot.is-active{ width:22px; background:var(--accent); }

@media (min-width:900px){
  .carousel{ grid-template-columns:auto 1fr auto; }
  .carousel__btn{
    appearance:none; border:1px solid var(--border);
    background:var(--surface-2); color:var(--fg);
    width:40px; height:40px; border-radius:999px; display:grid; place-items:center; font-size:22px; line-height:1; cursor:pointer; box-shadow:var(--shadow-sm);
  }
  .carousel__btn:disabled{ opacity:.45; cursor:not-allowed; }
  .carousel__track{
    padding-inline:0;
    -webkit-mask-image:linear-gradient(90deg, transparent, #000 24px, #000 calc(100% - 24px), transparent);
            mask-image:linear-gradient(90deg, transparent, #000 24px, #000 calc(100% - 24px), transparent);
    grid-auto-columns: calc(50% - 12px);
  }
}
@media (min-width:1200px){
  .carousel__track{ grid-auto-columns: calc(33.333% - 14px); }
}

/* ========================= 12) RÉALISATIONS & POSTS ========================= */
.recent-works,.recent-posts{
  position:relative; isolation:isolate; padding-block: clamp(2rem, 4vw, 3.6rem);
}
.recent-works__inner,.recent-posts__inner{
  max-width: var(--container); margin-inline:auto; display:grid; gap: clamp(1.4rem, 3vw, 2.6rem);
}
.recent-works__head,.recent-posts__head{
  max-width: min(760px, 100%);
  display:grid; gap:.8rem; padding: clamp(1rem, 2.4vw, 1.8rem);
  border-radius: clamp(1rem, 1.8vw, 1.5rem);
  border:1px solid color-mix(in oklab, var(--border), var(--brand) 40%);
  background: linear-gradient(150deg, color-mix(in oklab, var(--surface-1) 86%, transparent) 6%, color-mix(in oklab, var(--surface-2) 72%, var(--brand) 24%) 100%);
  box-shadow:0 20px 48px rgba(0,0,0,.28);
}
.recent-works__title,.recent-posts__title{
  margin:0; font-size: clamp(1.8rem, 1.5rem + 1.2vw, 2.4rem); line-height:1.18; font-weight:800; color:#fff;
}
.recent-works__subtitle,.recent-posts__subtitle{
  margin:0; max-width:60ch; color: color-mix(in oklab, var(--muted) 75%, #ffffff 25%);
  font-size: clamp(1.02rem, 1rem + .5vw, 1.24rem); line-height:1.65;
}

.recent-works__carousel,.recent-posts__carousel{
  padding: clamp(1rem, 2vw, 1.7rem);
  border-radius: clamp(1.2rem, 2.4vw, 2.1rem);
  background: linear-gradient(160deg, color-mix(in oklab, var(--surface-1) 82%, transparent), color-mix(in oklab, var(--surface-2) 68%, var(--brand) 26%));
  box-shadow:0 18px 42px rgba(0,0,0,.30);
  overflow:hidden;
}

.project-card,.recent-post-card{
  position:relative; display:grid; gap: clamp(.75rem, 1.2vw, 1.1rem);
  padding: clamp(1rem, 1.6vw, 1.6rem);
  border-radius: clamp(1rem, 1.6vw, 1.4rem);
  background: linear-gradient(165deg, color-mix(in oklab, var(--surface-1) 90%, transparent), color-mix(in oklab, var(--surface-2) 60%, var(--brand) 20%));
  border:1px solid color-mix(in oklab, var(--border), var(--brand) 36%);
  box-shadow:0 16px 38px rgba(0,0,0,.28);
  color:inherit;
}
.project-card__title{ margin:0; font-size: clamp(1.12rem, 1.02rem + .7vw, 1.55rem); line-height:1.24; color:#ffffff; }
.project-card__excerpt{ margin:0; color: color-mix(in oklab, var(--muted) 70%, #ffffff 30%); font-size: clamp(1rem, .96rem + .3vw, 1.08rem); }
.project-card__stack{ display:flex; flex-wrap:wrap; gap:.45rem; margin:0; padding:0; list-style:none; }
.project-card__stack li{
  padding:.3rem .75rem; border-radius:999px; font-size:.85rem; letter-spacing:.01em;
  background: color-mix(in oklab, var(--surface-2) 55%, transparent);
  color: color-mix(in oklab, var(--fg) 88%, #ffffff 12%);
  border:1px solid color-mix(in oklab, var(--border), var(--brand) 35%);
}
.project-card__footer{ display:flex; align-items:center; justify-content:space-between; gap:.6rem; flex-wrap:wrap; }

.recent-post-card{ grid-template-columns: 92px 1fr; align-items:start; }
.recent-post-card__media{ grid-column:1; grid-row:1 / span 3; width:92px; height:92px; border-radius:.9rem; overflow:hidden; border:1px solid var(--border); background: var(--surface-1); box-shadow: var(--shadow-sm); }
.recent-post-card__media img{ width:100%; height:100%; object-fit:cover; }
.recent-post-card__title{ grid-column:2; margin:.05rem 0 0; font-size: clamp(1.05rem, .9rem + .6vw, 1.35rem); line-height:1.28; font-weight:800; }
.recent-post-card__excerpt{ grid-column:2; margin:.1rem 0 .35rem; color: var(--muted); }
@media (max-width:680px){
  .recent-post-card{ grid-template-columns:1fr; }
  .recent-post-card__media{ grid-column:1; grid-row:1; width:100%; height:auto; aspect-ratio:16/9; }
}

/* ========================= 13) BLOG (pages) ========================= */
.post-list{ list-style:none; padding:0; margin:1rem 0; display:grid; gap:1rem; }
.post-item .card{ padding: clamp(1rem, 1.2vw, 1.4rem); }
.post-item h3{ font-size: var(--step-1); }
.post-item a{ text-decoration: var(--link-underline); text-underline-offset: var(--link-offset); }
.post-item small{ color: var(--muted); }

.post-hero{
  position: relative; display:grid; grid-template-columns: 1fr; gap: clamp(12px, 1.8vw, 18px);
  background: linear-gradient(135deg, color-mix(in oklab, var(--surface-1) 96%, var(--brand) 4%), var(--surface-1));
  border:1px solid var(--border); border-radius: var(--radius-3); box-shadow: var(--shadow-md); overflow:hidden;
  padding: clamp(.9rem, 1.3vw, 1.4rem) 1rem;
}
@media (min-width:900px){ .post-hero{ grid-template-columns: 1fr auto; } }
.post-hero::before{ content:""; position:absolute; inset:0 0 auto 0; height:3px; background: var(--g-brand); }
.post-hero__media{ align-self:center; justify-self:center; }
.post-hero__media img{ width:min(120px, 22vw); aspect-ratio:1; object-fit:cover; border-radius: var(--radius-2); box-shadow: var(--shadow-sm); }
@media (max-width:1199px){ .post-hero__media{ display:none; } }

.post-body{ max-width: min(820px, 100%); margin: 0 auto; padding: clamp(1.1rem, 2vw, 1.8rem) 1rem; }
.post-body h2{ font-size: var(--step-2); margin-top:1.4rem; margin-bottom:.6rem; }
.post-body h3{ font-size: var(--step-1); margin-top:1.1rem; margin-bottom:.5rem; }
.post-body p{ margin:.6rem 0 1rem; }
.post-body ul{ padding-left:1.1rem; margin:.6rem 0 1rem; }
.post-body blockquote{
  margin: 1rem 0; padding: .75rem 1rem; border-left:4px solid color-mix(in oklab, var(--brand) 60%, #fff 0%);
  background: color-mix(in oklab, var(--surface-1) 84%, var(--brand) 16%);
  border-radius: .5rem;
}

/* ========================= 14) CERTIFICATIONS ========================= */
.certs{ padding-block:clamp(2rem,3vw,3.5rem); }
.certs-viewport{ max-width:min(100vw,1100px); margin-inline:auto; overflow:hidden; }
.certs-rail{ list-style:none; margin:0; padding:0; display:grid; grid-auto-flow:column; grid-auto-columns:100%; gap:0; overflow-x:auto; scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch; }
.certs-rail > li{ width:100%; scroll-snap-align:center; }
@media (min-width:900px){
  .certs-viewport{ overflow:visible; }
  .certs-rail{ grid-auto-flow:row; grid-auto-columns:initial; grid-template-columns:repeat(3,minmax(0,1fr)); gap:1.25rem 1.5rem; overflow:visible; scroll-snap-type:none; }
  .certs-rail > li{ scroll-snap-align:unset; }
}
.cert-card{
  display:grid; grid-template-columns:56px 1fr; align-items:start; column-gap:1.2rem; row-gap:.6rem;
  padding:clamp(1.2rem,2.6vw,1.9rem) clamp(1.2rem,3vw,2.2rem);
  background: linear-gradient(180deg, color-mix(in oklab, var(--surface-1) 94%, transparent), color-mix(in oklab, var(--surface-0) 98%, transparent));
  border:1px solid color-mix(in oklab, var(--border), var(--brand) 12%);
  border-radius:var(--radius-2); box-shadow:var(--shadow-md);
}

/* ========================= 15) FOOTER ========================= */
.site-footer{ border-top:1px solid var(--border); padding:clamp(1.2rem,2vw,1.8rem) 1rem; text-align:center; color:var(--muted); }
.footer{ max-width:var(--container); margin-inline:auto; text-align:left; }
.footer-grid{ display:grid; gap:1.1rem 1.5rem; align-items:start; grid-template-columns: 1.2fr 1fr 1fr 1fr; }
@media (max-width:899px){ .footer-grid{ grid-template-columns:1fr; } }
.footer-col-title{ margin:.2rem 0 .5rem; font-size: var(--step-0); color: var(--fg); font-weight:800; }
.footer-list{ list-style:none; margin:0; padding:0; display:grid; gap:.45rem; }
.footer-list a{ color: var(--muted); text-decoration: none; display:flex; align-items:center; gap:.55rem; }
.footer-list a:hover{ color: var(--fg); text-decoration: underline; text-underline-offset: 2px; }

/* ========================= 16) THEME — LIGHT ajustes ========================= */
:root[data-theme="light"] body{ background: var(--surface-0); color: var(--fg); }
:root[data-theme="light"] .about-hero__canvas{
  background: linear-gradient(125deg, var(--surface-1), var(--surface-1));
}
:root[data-theme="light"] .about-hero__canvas::before{
  content:""; position:absolute; inset:0;
  background:
    radial-gradient(400px 260px at 12% 18%, rgba(102,119,255,.08), transparent 60%),
    radial-gradient(420px 280px at 86% 24%, rgba(43,212,143,.08), transparent 62%);
  opacity:.9; pointer-events:none;
}
:root[data-theme="light"] .about-hero__canvas::after{ content:""; position:absolute; inset:0; background: linear-gradient(180deg, rgba(255,255,255,.65), transparent 45%); }
:root[data-theme="light"] .about-stats-card{ background: linear-gradient(135deg, #ffffff, #fbfdff); border:1px solid var(--border); box-shadow: var(--shadow-sm); color: var(--fg); }
:root[data-theme="light"] .about-photo-frame{ background: linear-gradient(135deg, #ffffff, #f6f9ff); border:1px solid var(--border); box-shadow: var(--shadow-sm); }
:root[data-theme="light"] .about-photo-slot{ background: linear-gradient(140deg, #ffffff, #f7fbff); border:1px dashed color-mix(in oklab, var(--border) 70%, #ffffff 30%); }

:root[data-theme="light"] .recent-works__head,
:root[data-theme="light"] .recent-posts__head{
  background: linear-gradient(150deg,
    color-mix(in oklab, #ffffff 94%, var(--brand) 6%) 0%,
    color-mix(in oklab, #ffffff 96%, var(--brand-2) 4%) 100%);
  border-color: var(--border);
  box-shadow: var(--shadow-md);
}
:root[data-theme="light"] .recent-works__title,
:root[data-theme="light"] .recent-posts__title{ color: var(--fg); -webkit-text-fill-color: var(--fg); text-shadow:none; }
:root[data-theme="light"] .recent-works__subtitle{ color: color-mix(in oklab, var(--muted) 85%, var(--brand) 15%); }

:root[data-theme="light"] .recent-works__carousel,
:root[data-theme="light"] .recent-posts__carousel{ background: linear-gradient(160deg, #ffffff, var(--surface-2)); box-shadow: var(--shadow-md); }
:root[data-theme="light"] .project-card{ background: linear-gradient(165deg, #ffffff, #f7f9fd); border:1px solid var(--border); box-shadow: var(--shadow-sm); }
:root[data-theme="light"] .project-card__title{ color: var(--fg); }
:root[data-theme="light"] .project-card__stack li{ background:#f3f6fb; color: color-mix(in oklab, var(--fg) 92%, var(--brand) 8%); border:1px solid var(--border); }
:root[data-theme="light"] .recent-works .carousel__btn,
:root[data-theme="light"] .recent-posts .carousel__btn{ background:#ffffff; border:1px solid var(--border); color:var(--fg); box-shadow:var(--shadow-sm); }
:root[data-theme="light"] .recent-works .carousel__btn:hover,
:root[data-theme="light"] .recent-posts .carousel__btn:hover{ transform:translateY(-1px); box-shadow:var(--shadow-md); }
:root[data-theme="light"] .recent-works .carousel__dot,
:root[data-theme="light"] .recent-posts .carousel__dot{ width:10px; height:10px; border-radius:999px; border:0; background: color-mix(in oklab, var(--muted) 24%, transparent); }
:root[data-theme="light"] .recent-works .carousel__dot.is-active,
:root[data-theme="light"] .recent-posts .carousel__dot.is-active{ width:26px; background: color-mix(in oklab, var(--brand) 60%, #ffffff 40%); }

:root[data-theme="light"] .service-card{ background: linear-gradient(160deg, #ffffff, #f7f9fd); border-color: var(--border); box-shadow: var(--shadow-sm); }
:root[data-theme="light"] .methode{ background: linear-gradient(180deg, #ffffff, #f6f8fc); border-color: var(--border); box-shadow: var(--shadow-sm); }
:root[data-theme="light"] .chip{ background:#ffffff; border:1px solid var(--border); }
:root[data-theme="light"] .cert-tags .tag{ background:#f6f8fc; border:1px solid var(--border); color:var(--fg); }
:root[data-theme="light"] .site-header{ background: color-mix(in oklab, var(--surface-0) 96%, #ffffff 4%); border-bottom:1px solid var(--border); box-shadow:none; }
:root[data-theme="light"] .site-header.is-scrolled{ box-shadow: 0 8px 22px rgba(15,23,42,.08); }
:root[data-theme="light"] .site-footer{ border-top:1px solid var(--border); color: var(--muted); }
:root[data-theme="light"] body::before{ opacity:.12; mix-blend-mode: normal; }
:root[data-theme="light"] .section h2{ -webkit-text-fill-color: initial; background: none; color: var(--fg); text-shadow: none; }

/* ========================= 17) PERFS & ACCESSIBILITÉ ========================= */
@media (prefers-reduced-motion: reduce){
  .nav-toggle .chev, .nav-collapsible, .btn, .card, .methode, .cert-card,
  .icon-sun, .icon-moon, .theme-toggle, .certs-dot, .chip,
  .contact-item, .ci-copy-btn, .brand-logo, .service-card, .project-card { transition:none !important; animation:none !important; }
}

/* Masquer scrollbars des rails (visuel) */
.carousel__track, .certs-rail{ scrollbar-width:none; -ms-overflow-style:none; }
.carousel__track::-webkit-scrollbar, .certs-rail::-webkit-scrollbar{ display:none; width:0; height:0; background:transparent; }

/* ========================= 18) PETITS BREAKPOINTS FINESSES ========================= */
@media (max-width:599px){
  .brand-logo{ height:36px; max-width:48vw; }
  .theme-toggle, .nav-toggle{ max-width:44vw; }
  .card{ box-shadow:0 4px 12px rgba(0,0,0,.18); }
}

/* ========================= 19) ROLE (effet texte) ========================= */
.role{
  font-size:var(--step-1); font-weight:700; line-height:1.3; margin-top:.3rem;
  background:var(--g-brand); -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  background-clip:text; text-decoration:underline; text-decoration-thickness:1.5px; text-underline-offset:3px;
  text-decoration-color: color-mix(in oklab, var(--brand) 55%, transparent);
}
